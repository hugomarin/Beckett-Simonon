(function(t,i,o,e){"use strict";Foundation.libs.tooltips={name:"tooltips",version:"4.0.2",settings:{selector:".has-tip",additionalInheritableClasses:[],tooltipClass:".tooltip",tipTemplate:function(t,i){return'<span data-selector="'+t+'" class="'+Foundation.libs.tooltips.settings.tooltipClass.substring(1)+'">'+i+'<span class="nub"></span></span>'}},cache:{},init:function(i,o,e){var s=this;this.scope=i||this.scope;if(typeof o==="object"){t.extend(true,this.settings,o)}if(typeof o!="string"){if(Modernizr.touch){t(this.scope).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip","[data-tooltip]",function(i){i.preventDefault();t(s.settings.tooltipClass).hide();s.showOrCreateTip(t(this))}).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip",this.settings.tooltipClass,function(i){i.preventDefault();t(this).fadeOut(150)})}else{t(this.scope).on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip","[data-tooltip]",function(i){var o=t(this);if(i.type==="mouseover"||i.type==="mouseenter"){s.showOrCreateTip(o)}else if(i.type==="mouseout"||i.type==="mouseleave"){s.hide(o)}})}}else{return this[o].call(this,e)}},showOrCreateTip:function(t){var i=this.getTip(t);if(i&&i.length>0){return this.show(t)}return this.create(t)},getTip:function(i){var o=this.selector(i),e=null;if(o){e=t("span[data-selector="+o+"]"+this.settings.tooltipClass)}return typeof e==="object"?e:false},selector:function(t){var i=t.attr("id"),o=t.attr("data-tooltip")||t.attr("data-selector");if((i&&i.length<1||!i)&&typeof o!="string"){o="tooltip"+Math.random().toString(36).substring(7);t.attr("data-selector",o)}return i&&i.length>0?i:o},create:function(i){var o=t(this.settings.tipTemplate(this.selector(i),t("<div>").html(i.attr("title")).html())),e=this.inheritable_classes(i);o.addClass(e).appendTo("body");if(Modernizr.touch){o.append('<span class="tap-to-close">tap to close </span>')}i.removeAttr("title").attr("title","");this.show(i)},reposition:function(o,e,s){var n,a,r,l,f,p;e.css("visibility","hidden").show();n=o.data("width");a=e.children(".nub");r=this.outerHeight(a);l=this.outerHeight(a);p=function(t,i,o,e,s,n){return t.css({top:i?i:"auto",bottom:e?e:"auto",left:s?s:"auto",right:o?o:"auto",width:n?n:"auto"}).end()};p(e,o.offset().top+this.outerHeight(o)+10,"auto","auto",o.offset().left,n);if(t(i).width()<767){p(e,o.offset().top+this.outerHeight(o)+10,"auto","auto",12.5,t(this.scope).width());e.addClass("tip-override");p(a,-r,"auto","auto",o.offset().left)}else{p(e,o.offset().top+this.outerHeight(o)+10,"auto","auto",o.offset().left,n);e.removeClass("tip-override");if(s&&s.indexOf("tip-top")>-1){p(e,o.offset().top-this.outerHeight(e),"auto","auto",o.offset().left,n).removeClass("tip-override")}else if(s&&s.indexOf("tip-left")>-1){p(e,o.offset().top+this.outerHeight(o)/2-r*2.5,"auto","auto",o.offset().left-this.outerWidth(e)-r,n).removeClass("tip-override")}else if(s&&s.indexOf("tip-right")>-1){p(e,o.offset().top+this.outerHeight(o)/2-r*2.5,"auto","auto",o.offset().left+this.outerWidth(o)+r,n).removeClass("tip-override")}}e.css("visibility","visible").hide()},inheritable_classes:function(i){var o=["tip-top","tip-left","tip-bottom","tip-right","noradius"].concat(this.settings.additionalInheritableClasses),e=i.attr("class"),s=e?t.map(e.split(" "),function(i,e){if(t.inArray(i,o)!==-1){return i}}).join(" "):"";return t.trim(s)},show:function(t){var i=this.getTip(t);this.reposition(t,i,t.attr("class"));i.fadeIn(150)},hide:function(t){var i=this.getTip(t);i.fadeOut(150)},reload:function(){var i=t(this);return i.data("fndtn-tooltips")?i.foundationTooltips("destroy").foundationTooltips("init"):i.foundationTooltips("init")},off:function(){t(this.scope).off(".fndtn.tooltip");t(this.settings.tooltipClass).each(function(i){t("[data-tooltip]").get(i).attr("title",t(this).text())}).remove()}}})(Foundation.zj,this,this.document);